{"ast":null,"code":"import * as i0 from \"@angular/core\";\nconst _c0 = [\"creditCardDetails\"];\nconst _c1 = [\"log\"];\nexport class WidgetAPIComponent {\n  constructor(changeDetectorRef, element, renderer) {\n    this.changeDetectorRef = changeDetectorRef;\n    this.element = element;\n    this.renderer = renderer;\n    this.message = '';\n    this.dispositionCodes = [];\n    this.voiceDispositionCodes = [];\n    this.workCodes = [];\n    this.emailWorkCodes = [];\n    this.additionalWorkCodes = [];\n    this.notReadyReasonCodes = [];\n    this.systemReasonCodes = [];\n    this.interactionId = this.element.nativeElement.getAttribute('interactionid');\n    this.widgetAPI = window.WS.widgetAPI(this.interactionId);\n  }\n  ngAfterViewInit() {\n    ;\n  }\n  onclick_getCardNumber(e) {\n    this.widgetAPI.sendChatMessage(\"ご登録のスマホで、カード番号を入力してください。\");\n    const p = this.renderer.createElement('p');\n    p.innerHTML = `<iframe id=\"external_page1\" title=\"Inline Frame\" width=\"1200\" height=\"600\" frameborder=\"0\" src=\"https://demo.avayaphone.net/widgets/widget1.html\"></iframe>`;\n    this.renderer.insertBefore(this.creditCardDetails.nativeElement, p, this.creditCardDetails.nativeElement.children[0], true);\n  }\n  onclick_imageAnalysis(e) {\n    this.widgetAPI.sendChatMessage(\"ご登録のスマホで、画像読み取り画面を開いてください。\");\n  }\n  dumpJsonData(eventName, data) {\n    const event = Object.assign({}, data);\n    console.log(JSON.stringify(event));\n    const h = JSON.stringify(event).replace(/</g, \"\").replace(/>/g, \"\");\n    const p = this.renderer.createElement('p');\n    p.innerHTML = `<b>${eventName}</b><br/>${h}<br/><br/>`;\n    //this.renderer.appendChild(this.widgetLog.nativeElement, p);\n    this.renderer.insertBefore(this.widgetLog.nativeElement, p, this.widgetLog.nativeElement.children[0], true);\n  }\n  onclick_metadata(e) {\n    this.dumpJsonData(\"Metadata\", this.metadata);\n    this.metadata = this.widgetAPI.getMetadata('widgetAPI');\n  }\n  onclick_capabilities(e) {\n    this.dumpJsonData(\"Capabilities\", this.capabilities);\n    this.capabilities = this.widgetAPI.getCapabilities();\n  }\n  onclick_configuration(e) {\n    this.dumpJsonData(\"Configuration\", this.configuration);\n    this.configuration = this.widgetAPI.getConfiguration();\n  }\n  onclick_dispositionCodes(e) {\n    this.dumpJsonData(\"DispositionCodes\", this.dispositionCodes);\n    this.dispositionCodes = this.widgetAPI.getDispositionCodes();\n  }\n  onclick_voiceDispositionCodes(e) {\n    this.dumpJsonData(\"VoiceDispositionCodes\", this.voiceDispositionCodes);\n    this.voiceDispositionCodes = this.widgetAPI.getDispositionCodes('VOICE');\n  }\n  onclick_workCodes(e) {\n    this.dumpJsonData(\"WorkCodes\", this.workCodes);\n    this.workCodes = this.widgetAPI.getWorkCodes();\n  }\n  onclick_emailWorkCodes(e) {\n    this.dumpJsonData(\"EmailWorkCodes\", this.emailWorkCodes);\n    this.emailWorkCodes = this.widgetAPI.getWorkCodes('EMAIL');\n  }\n  onclick_additionalWorkCodes(e) {\n    this.dumpJsonData(\"AdditionalWorkCodes\", this.additionalWorkCodes);\n    this.additionalWorkCodes = this.widgetAPI.getAdditionalWorkCodes();\n  }\n  onclick_notReadyReasonCodes(e) {\n    this.dumpJsonData(\"NotReadyReasonCodes\", this.notReadyReasonCodes);\n    this.notReadyReasonCodes = this.widgetAPI.getNotReadyReasonCodes();\n  }\n  onclick_systemReasonCodes(e) {\n    this.dumpJsonData(\"SystemReasonCodes\", this.systemReasonCodes);\n    this.systemReasonCodes = this.widgetAPI.getSystemReasonCodes();\n  }\n  onclick_interactionData(e) {\n    this.dumpJsonData(\"InteractionData\", this.interactionData);\n    this.interactionData = this.widgetAPI.getInteractionData();\n  }\n  onclick_clientDetails(e) {\n    this.dumpJsonData(\"ClientDetails\", this.clientDetails);\n    this.clientDetails = this.widgetAPI.getClientDetails();\n  }\n  onclick_sendChatMessage(e, text) {\n    this.dumpJsonData(\"SendChatMessage\", {\n      text: text\n    });\n    this.widgetAPI.sendChatMessage(text);\n  }\n  onclick_sendMessage(e, text) {\n    this.dumpJsonData(\"SendMessage\", {\n      text: text\n    });\n    this.widgetAPI.sendMessage(text);\n  }\n  onclick_sendMessageToAnyWidget(e, text) {\n    this.dumpJsonData(\"SendMessageToAnyWidget\", {\n      text: text\n    });\n    this.widgetAPI.sendMessageToAnyWidget(text);\n  }\n  ngOnInit() {\n    // Interaction event fired when a new interaction is created or has been updated\n    this.widgetAPI.onDataEvent('onInteractionEvent', data => {\n      this.interaction = data;\n      this.dumpJsonData(\"onInteractionEvent\", this.interaction);\n      this.changeDetectorRef.detectChanges();\n    });\n    // Interaction ended event fired when the interaction card has ended\n    this.widgetAPI.onDataEvent('onInteractionEndedEvent', data => {\n      this.interactionEnded = data;\n      this.dumpJsonData(\"onInteractionEndedEvent\", this.interactionEnded);\n      this.changeDetectorRef.detectChanges();\n    });\n    // Interaction context data\n    this.widgetAPI.onDataEvent('onContextDataEvent', data => {\n      this.context = data;\n      this.dumpJsonData(\"onContextDataEvent\", this.context);\n      this.changeDetectorRef.detectChanges();\n    });\n    // Media data from chat, sms, email, social\n    this.widgetAPI.onDataEvent('onMediaEvent', data => {\n      this.media = data;\n      this.dumpJsonData(\"onMediaEvent\", this.media);\n      this.changeDetectorRef.detectChanges();\n    });\n    // Media message data from chat, sms, email, social\n    this.widgetAPI.onDataEvent('onMediaMessageEvent', data => {\n      this.mediaMessage = data;\n      this.dumpJsonData(\"onMediaMessageEvent\", this.mediaMessage);\n      this.changeDetectorRef.detectChanges();\n    });\n    // Triggered on agent state changes\n    this.widgetAPI.onDataEvent('onAgentStateEvent', data => {\n      this.agent = data;\n      this.dumpJsonData(\"onAgentStateEvent\", this.agent);\n      this.changeDetectorRef.detectChanges();\n    });\n    // Triggered when the widget receives a message from another widget\n    this.widgetAPI.onDataEvent('onMessageEvent', data => {\n      this.widgetMessage = data;\n      this.dumpJsonData(\"onMessageEvent\", this.widgetMessage);\n      this.changeDetectorRef.detectChanges();\n    });\n    // Triggered on navigation change\n    this.widgetAPI.onDataEvent('onNavigationEvent', data => {\n      this.navigation = data;\n      this.dumpJsonData(\"onNavigationEvent\", this.navigation);\n      this.changeDetectorRef.detectChanges();\n    });\n    // Triggered when capabilities have updated\n    this.widgetAPI.onDataEvent('onCapabilitiesEvent', data => {\n      this.capabilities = data;\n      this.dumpJsonData(\"onCapabilitiesEvent\", this.capabilities);\n      this.changeDetectorRef.detectChanges();\n    });\n    // Event fired when a custom card is deleted\n    this.widgetAPI.onDataEvent('onCustomCardDeletedEvent', data => {\n      this.customCardDeleted = data;\n      this.dumpJsonData(\"onCustomCardDeletedEvent\", this.customCardDeleted);\n      this.changeDetectorRef.detectChanges();\n    });\n    // Triggered when card is focused\n    this.widgetAPI.onDataEvent('onCardFocusedEvent', data => {\n      this.interaction = data;\n      this.dumpJsonData(\"onCardFocusedEvent\", this.interaction);\n      this.changeDetectorRef.detectChanges();\n    });\n  }\n  // Send a message to another widget under the same interaction context\n  sendNotification() {\n    this.widgetAPI.sendMessage('Sample Widget Message: ' + this.message);\n    this.widgetAPI.sendNotification('Sample Widget Message: ' + this.message, 'info');\n    this.dumpJsonData(\"interactionEnded\", this.interactionEnded);\n  }\n  // Send a message to any other widget not constrained by interaction context\n  sendNotificationToAnyWidget() {\n    //this.widgetAPI.sendMessageToAnyWidget('Sample Any Widget Message: ' + this.anyWidgetMessage);\n    //this.widgetAPI.sendNotification('Sample Any Widget Message: ' + this.anyWidgetMessage, 'warning');\n  }\n  ngOnDestroy() {\n    ;\n  }\n}\nWidgetAPIComponent.ɵfac = function WidgetAPIComponent_Factory(t) {\n  return new (t || WidgetAPIComponent)(i0.ɵɵdirectiveInject(i0.ChangeDetectorRef), i0.ɵɵdirectiveInject(i0.ElementRef), i0.ɵɵdirectiveInject(i0.Renderer2));\n};\nWidgetAPIComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: WidgetAPIComponent,\n  selectors: [[\"app-widget-api\"]],\n  viewQuery: function WidgetAPIComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 5);\n      i0.ɵɵviewQuery(_c1, 5);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.creditCardDetails = _t.first);\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.widgetLog = _t.first);\n    }\n  },\n  decls: 62,\n  vars: 0,\n  consts: [[\"id\", \"widget1\", 1, \"disp\", 2, \"position\", \"relative\", \"width\", \"100%\", \"height\", \"100%\"], [\"id\", \"widget-default\", 1, \"neo-widget__content\", \"disp\"], [1, \"neo-widget__header\"], [1, \"neo-widget__header-left\"], [1, \"neo-widget__body\", \"neo-widget__body\", 2, \"width\", \"100%\", \"height\", \"100%\"], [\"id\", \"sign-in\", 2, \"width\", \"100%\", \"height\", \"820px\", \"padding\", \"10px\"], [\"id\", \"getCardNumber\", \"type\", \"button\", 1, \"neo-btn\", \"neo-btn-secondary\", \"neo-btn-secondary--default\", \"neo-center\", \"neo-icon-check\", 3, \"click\"], [\"id\", \"imageAnalysis\", \"type\", \"button\", 1, \"neo-btn\", \"neo-btn-secondary\", \"neo-btn-secondary--default\", \"neo-center\", \"neo-icon-check\", 3, \"click\"], [\"id\", \"creditCardDetails\"], [\"creditCardDetails\", \"\"], [\"onsubmit\", \"$('#message').val('');return false;\", 1, \"neo-form\", 2, \"padding\", \"10px\"], [1, \"neo-form-control\"], [1, \"neo-input-group\"], [1, \"row\"], [1, \"neo-btn\", \"neo-btn-tertiary\", \"neo-btn-tertiary--default\", 3, \"click\"], [\"id\", \"test\", 1, \"neo-btn\", \"neo-btn-tertiary\", \"neo-btn-tertiary--default\"], [1, \"neo-form-control\", \"neo-form-control--textarea\", 2, \"margin-left\", \"20px\"], [\"id\", \"message\", \"placeholder\", \"message\", 1, \"neo-input\", 2, \"width\", \"800px\"], [\"message\", \"\"], [\"for\", \"isjsonformat\", 1, \"neo-switch\", 2, \"margin\", \"20px\"], [\"id\", \"isjsonformat\", \"type\", \"checkbox\", \"role\", \"switch\"], [\"isjsonformat\", \"\"], [1, \"neo-switch__icon\"], [2, \"width\", \"100%\", \"height\", \"600px\", \"padding\", \"10px\", \"overflow\", \"hidden\", \"overflow-y\", \"auto\", \"word-break\", \"break-all\", \"background-color\", \"#eee\"], [\"id\", \"log\"], [\"log\", \"\"]],\n  template: function WidgetAPIComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      const _r4 = i0.ɵɵgetCurrentView();\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2);\n      i0.ɵɵelement(3, \"div\", 3);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"div\", 4)(5, \"div\", 5)(6, \"button\", 6);\n      i0.ɵɵlistener(\"click\", function WidgetAPIComponent_Template_button_click_6_listener($event) {\n        return ctx.onclick_getCardNumber($event);\n      });\n      i0.ɵɵtext(7, \"\\u30AB\\u30FC\\u30C9\\u756A\\u53F7\\u53D6\\u5F97\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"button\", 7);\n      i0.ɵɵlistener(\"click\", function WidgetAPIComponent_Template_button_click_8_listener($event) {\n        return ctx.onclick_imageAnalysis($event);\n      });\n      i0.ɵɵtext(9, \"\\u753B\\u50CF\\u8AAD\\u307F\\u53D6\\u308A\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(10, \"div\", 8, 9);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"form\", 10)(13, \"div\", 11)(14, \"div\", 12)(15, \"div\", 13)(16, \"button\", 14);\n      i0.ɵɵlistener(\"click\", function WidgetAPIComponent_Template_button_click_16_listener($event) {\n        return ctx.onclick_metadata($event);\n      });\n      i0.ɵɵtext(17, \"getMetadata()\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(18, \"button\", 14);\n      i0.ɵɵlistener(\"click\", function WidgetAPIComponent_Template_button_click_18_listener($event) {\n        return ctx.onclick_capabilities($event);\n      });\n      i0.ɵɵtext(19, \"getCapabilities()\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(20, \"button\", 14);\n      i0.ɵɵlistener(\"click\", function WidgetAPIComponent_Template_button_click_20_listener($event) {\n        return ctx.onclick_configuration($event);\n      });\n      i0.ɵɵtext(21, \"getConfiguration()\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(22, \"button\", 14);\n      i0.ɵɵlistener(\"click\", function WidgetAPIComponent_Template_button_click_22_listener($event) {\n        return ctx.onclick_dispositionCodes($event);\n      });\n      i0.ɵɵtext(23, \"getDispositionCodes()\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(24, \"button\", 14);\n      i0.ɵɵlistener(\"click\", function WidgetAPIComponent_Template_button_click_24_listener($event) {\n        return ctx.onclick_voiceDispositionCodes($event);\n      });\n      i0.ɵɵtext(25, \"getDispositionCodes(VOICE)\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(26, \"button\", 14);\n      i0.ɵɵlistener(\"click\", function WidgetAPIComponent_Template_button_click_26_listener($event) {\n        return ctx.onclick_workCodes($event);\n      });\n      i0.ɵɵtext(27, \"getWorkCodes()\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(28, \"button\", 14);\n      i0.ɵɵlistener(\"click\", function WidgetAPIComponent_Template_button_click_28_listener($event) {\n        return ctx.onclick_emailWorkCodes($event);\n      });\n      i0.ɵɵtext(29, \"getWorkCodes(EMAIL)\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(30, \"button\", 14);\n      i0.ɵɵlistener(\"click\", function WidgetAPIComponent_Template_button_click_30_listener($event) {\n        return ctx.onclick_additionalWorkCodes($event);\n      });\n      i0.ɵɵtext(31, \"getAdditionalWorkCodes()\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(32, \"button\", 14);\n      i0.ɵɵlistener(\"click\", function WidgetAPIComponent_Template_button_click_32_listener($event) {\n        return ctx.onclick_notReadyReasonCodes($event);\n      });\n      i0.ɵɵtext(33, \"getNotReadyReasonCodes()\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(34, \"button\", 14);\n      i0.ɵɵlistener(\"click\", function WidgetAPIComponent_Template_button_click_34_listener($event) {\n        return ctx.onclick_systemReasonCodes($event);\n      });\n      i0.ɵɵtext(35, \"getSystemReasonCodes()\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(36, \"button\", 14);\n      i0.ɵɵlistener(\"click\", function WidgetAPIComponent_Template_button_click_36_listener($event) {\n        return ctx.onclick_interactionData($event);\n      });\n      i0.ɵɵtext(37, \"getInteractionData()\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(38, \"button\", 14);\n      i0.ɵɵlistener(\"click\", function WidgetAPIComponent_Template_button_click_38_listener($event) {\n        return ctx.onclick_clientDetails($event);\n      });\n      i0.ɵɵtext(39, \"getClientDetails()\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(40, \"button\", 14);\n      i0.ɵɵlistener(\"click\", function WidgetAPIComponent_Template_button_click_40_listener($event) {\n        i0.ɵɵrestoreView(_r4);\n        const _r1 = i0.ɵɵreference(53);\n        return i0.ɵɵresetView(ctx.onclick_sendChatMessage($event, _r1.value));\n      });\n      i0.ɵɵtext(41, \"sendChatMessage(message)\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(42, \"button\", 14);\n      i0.ɵɵlistener(\"click\", function WidgetAPIComponent_Template_button_click_42_listener($event) {\n        i0.ɵɵrestoreView(_r4);\n        const _r1 = i0.ɵɵreference(53);\n        return i0.ɵɵresetView(ctx.onclick_sendMessage($event, _r1.value));\n      });\n      i0.ɵɵtext(43, \"sendMessage(message)\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(44, \"button\", 14);\n      i0.ɵɵlistener(\"click\", function WidgetAPIComponent_Template_button_click_44_listener($event) {\n        i0.ɵɵrestoreView(_r4);\n        const _r1 = i0.ɵɵreference(53);\n        return i0.ɵɵresetView(ctx.onclick_sendMessageToAnyWidget($event, _r1.value));\n      });\n      i0.ɵɵtext(45, \"sendMessageToAnyWidget(message)\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(46, \"button\", 15);\n      i0.ɵɵtext(47, \"test\");\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementStart(48, \"div\", 11)(49, \"div\", 12)(50, \"div\", 13)(51, \"div\", 16);\n      i0.ɵɵelement(52, \"textarea\", 17, 18);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(54, \"label\", 19);\n      i0.ɵɵelement(55, \"input\", 20, 21)(57, \"i\", 22);\n      i0.ɵɵtext(58, \"JSON Format \");\n      i0.ɵɵelementEnd()()()()();\n      i0.ɵɵelementStart(59, \"div\", 23);\n      i0.ɵɵelement(60, \"div\", 24, 25);\n      i0.ɵɵelementEnd()()()();\n    }\n  },\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"],\n  encapsulation: 2\n});\nWidgetAPIComponent.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: WidgetAPIComponent,\n  factory: WidgetAPIComponent.ɵfac\n});","map":{"version":3,"names":["WidgetAPIComponent","constructor","changeDetectorRef","element","renderer","message","dispositionCodes","voiceDispositionCodes","workCodes","emailWorkCodes","additionalWorkCodes","notReadyReasonCodes","systemReasonCodes","interactionId","nativeElement","getAttribute","widgetAPI","window","WS","ngAfterViewInit","onclick_getCardNumber","e","sendChatMessage","p","createElement","innerHTML","insertBefore","creditCardDetails","children","onclick_imageAnalysis","dumpJsonData","eventName","data","event","Object","assign","console","log","JSON","stringify","h","replace","widgetLog","onclick_metadata","metadata","getMetadata","onclick_capabilities","capabilities","getCapabilities","onclick_configuration","configuration","getConfiguration","onclick_dispositionCodes","getDispositionCodes","onclick_voiceDispositionCodes","onclick_workCodes","getWorkCodes","onclick_emailWorkCodes","onclick_additionalWorkCodes","getAdditionalWorkCodes","onclick_notReadyReasonCodes","getNotReadyReasonCodes","onclick_systemReasonCodes","getSystemReasonCodes","onclick_interactionData","interactionData","getInteractionData","onclick_clientDetails","clientDetails","getClientDetails","onclick_sendChatMessage","text","onclick_sendMessage","sendMessage","onclick_sendMessageToAnyWidget","sendMessageToAnyWidget","ngOnInit","onDataEvent","interaction","detectChanges","interactionEnded","context","media","mediaMessage","agent","widgetMessage","navigation","customCardDeleted","sendNotification","sendNotificationToAnyWidget","ngOnDestroy","i0","ɵɵdirectiveInject","ChangeDetectorRef","ElementRef","Renderer2","selectors","viewQuery","WidgetAPIComponent_Query","rf","ctx","ɵɵelementStart","ɵɵelement","ɵɵelementEnd","ɵɵlistener","WidgetAPIComponent_Template_button_click_6_listener","$event","ɵɵtext","WidgetAPIComponent_Template_button_click_8_listener","WidgetAPIComponent_Template_button_click_16_listener","WidgetAPIComponent_Template_button_click_18_listener","WidgetAPIComponent_Template_button_click_20_listener","WidgetAPIComponent_Template_button_click_22_listener","WidgetAPIComponent_Template_button_click_24_listener","WidgetAPIComponent_Template_button_click_26_listener","WidgetAPIComponent_Template_button_click_28_listener","WidgetAPIComponent_Template_button_click_30_listener","WidgetAPIComponent_Template_button_click_32_listener","WidgetAPIComponent_Template_button_click_34_listener","WidgetAPIComponent_Template_button_click_36_listener","WidgetAPIComponent_Template_button_click_38_listener","WidgetAPIComponent_Template_button_click_40_listener","ɵɵrestoreView","_r4","_r1","ɵɵreference","ɵɵresetView","value","WidgetAPIComponent_Template_button_click_42_listener","WidgetAPIComponent_Template_button_click_44_listener","factory","ɵfac"],"sources":["/home/node/axp06/src/app/widget-api/widget-api.component.ts","/home/node/axp06/src/app/widget-api/widget-api.component.html"],"sourcesContent":["import { ChangeDetectorRef, Component, Renderer2, ViewChild, ElementRef, OnInit, ViewEncapsulation, Injectable } from '@angular/core';\n\n@Component({\n  selector: 'app-widget-api',\n  templateUrl: './widget-api.component.html',\n  styleUrls: ['./widget-api.component.css'],\n  encapsulation: ViewEncapsulation.None\n})\n\n@Injectable()\nexport class WidgetAPIComponent implements OnInit {\n\tprivate widgetAPI: any;\n\tprivate interactionId: string;\n\n\tpublic message: string = '';\n\tpublic interaction: any;\n\tpublic interactionEnded: any;\n\tpublic customer: any;\n\tpublic context: any;\n\tpublic media: any;\n\tpublic mediaMessage: any;\n\tpublic pagePushUrl: any;\n\tpublic agent: any;\n\tpublic widgetMessage: any;\n\tpublic navigation: any;\n\tpublic locale: any;\n\tpublic capabilities: any;\n\tpublic customCardDeleted: any;\n\tpublic metadata: any;\n\tpublic configuration: any;\n\tpublic dispositionCodes: any[] = [];\n\tpublic voiceDispositionCodes: any[] = [];\n\tpublic workCodes: any[] = [];\n\tpublic emailWorkCodes: any[] = [];\n\tpublic additionalWorkCodes: any[] = [];\n\tpublic notReadyReasonCodes: any[] = [];\n\tpublic systemReasonCodes: any[] = [];\n\tpublic interactionData: any;\n\tpublic clientDetails: any;\n\n\t@ViewChild('creditCardDetails', { static: false }) creditCardDetails: ElementRef;\n\t@ViewChild('log', { static: false }) widgetLog: ElementRef;\n\n\tconstructor(private changeDetectorRef: ChangeDetectorRef, private element: ElementRef, private renderer: Renderer2) {\n\t\tthis.interactionId = this.element.nativeElement.getAttribute('interactionid');\n\t\tthis.widgetAPI = (<any>window).WS.widgetAPI(this.interactionId);\n\t}\n\n\tngAfterViewInit(): void {\n\t\t;\n\t}\n\n\tonclick_getCardNumber(e: any) {\n\t\tthis.widgetAPI.sendChatMessage(\"ご登録のスマホで、カード番号を入力してください。\");\n\t\tconst p: HTMLParagraphElement = this.renderer.createElement('p');\n\t\tp.innerHTML = `<iframe id=\"external_page1\" title=\"Inline Frame\" width=\"1200\" height=\"600\" frameborder=\"0\" src=\"https://demo.avayaphone.net/widgets/widget1.html\"></iframe>`;\t\t\n\t\tthis.renderer.insertBefore(this.creditCardDetails.nativeElement, p, this.creditCardDetails.nativeElement.children[0], true);\n\t}\n\t\n\tonclick_imageAnalysis(e: any) {\n\t\tthis.widgetAPI.sendChatMessage(\"ご登録のスマホで、画像読み取り画面を開いてください。\");\n\t}\n\n\tdumpJsonData(eventName: string, data: any) {\n\t\tconst event: any = Object.assign({}, data);\n\t\tconsole.log(JSON.stringify(event));\n\t\tconst h: string = JSON.stringify(event).replace(/</g, \"\").replace(/>/g, \"\");\n\t\tconst p: HTMLParagraphElement = this.renderer.createElement('p');\n\t\tp.innerHTML = `<b>${eventName}</b><br/>${h}<br/><br/>`;\n\t\t//this.renderer.appendChild(this.widgetLog.nativeElement, p);\n\t\tthis.renderer.insertBefore(this.widgetLog.nativeElement, p, this.widgetLog.nativeElement.children[0], true);\n\t}\n\n\tonclick_metadata(e: any) {\n\t\tthis.dumpJsonData(\"Metadata\", this.metadata);\n\t\tthis.metadata = this.widgetAPI.getMetadata('widgetAPI');\n\t}\n\n\tonclick_capabilities(e: any) {\n\t\tthis.dumpJsonData(\"Capabilities\", this.capabilities);\n\t\tthis.capabilities = this.widgetAPI.getCapabilities();\n\t}\n\n\tonclick_configuration(e: any) {\n\t\tthis.dumpJsonData(\"Configuration\", this.configuration);\n\t\tthis.configuration = this.widgetAPI.getConfiguration();\n\t}\n\n\tonclick_dispositionCodes(e: any) {\n\t\tthis.dumpJsonData(\"DispositionCodes\", this.dispositionCodes);\n\t\tthis.dispositionCodes = this.widgetAPI.getDispositionCodes();\n\t}\n\n\tonclick_voiceDispositionCodes(e: any) {\n\t\tthis.dumpJsonData(\"VoiceDispositionCodes\", this.voiceDispositionCodes);\n\t\tthis.voiceDispositionCodes = this.widgetAPI.getDispositionCodes('VOICE');\n\t}\n\n\tonclick_workCodes(e: any) {\n\t\tthis.dumpJsonData(\"WorkCodes\", this.workCodes);\n\t\tthis.workCodes = this.widgetAPI.getWorkCodes();\n\t}\n\n\tonclick_emailWorkCodes(e: any) {\n\t\tthis.dumpJsonData(\"EmailWorkCodes\", this.emailWorkCodes);\n\t\tthis.emailWorkCodes = this.widgetAPI.getWorkCodes('EMAIL');\n\t}\n\n\tonclick_additionalWorkCodes(e: any) {\n\t\tthis.dumpJsonData(\"AdditionalWorkCodes\", this.additionalWorkCodes);\n\t\tthis.additionalWorkCodes = this.widgetAPI.getAdditionalWorkCodes();\n\t}\n\n\tonclick_notReadyReasonCodes(e: any) {\n\t\tthis.dumpJsonData(\"NotReadyReasonCodes\", this.notReadyReasonCodes);\n\t\tthis.notReadyReasonCodes = this.widgetAPI.getNotReadyReasonCodes();\n\t}\n\n\tonclick_systemReasonCodes(e: any) {\n\t\tthis.dumpJsonData(\"SystemReasonCodes\", this.systemReasonCodes);\n\t\tthis.systemReasonCodes = this.widgetAPI.getSystemReasonCodes();\n\t}\n\n\tonclick_interactionData(e: any) {\n\t\tthis.dumpJsonData(\"InteractionData\", this.interactionData);\n\t\tthis.interactionData = this.widgetAPI.getInteractionData()\n\t}\n\n\tonclick_clientDetails(e: any) {\n\t\tthis.dumpJsonData(\"ClientDetails\", this.clientDetails);\n\t\tthis.clientDetails = this.widgetAPI.getClientDetails();\n\t}\n\n\tonclick_sendChatMessage(e: any, text: string) {\n\t\tthis.dumpJsonData(\"SendChatMessage\", { text: text });\n\t\tthis.widgetAPI.sendChatMessage(text);\n\t}\n\n\tonclick_sendMessage(e: any, text: string) {\n\t\tthis.dumpJsonData(\"SendMessage\", { text: text });\n\t\tthis.widgetAPI.sendMessage(text);\n\t}\n\n\tonclick_sendMessageToAnyWidget(e: any, text: string) {\n\t\tthis.dumpJsonData(\"SendMessageToAnyWidget\", { text: text });\n\t\tthis.widgetAPI.sendMessageToAnyWidget(text);\n\t}\n\n\tngOnInit(): void {\n\n\t\t// Interaction event fired when a new interaction is created or has been updated\n\t\tthis.widgetAPI.onDataEvent('onInteractionEvent', (data: any) => {\n\t\t\tthis.interaction = data;\n\t\t\tthis.dumpJsonData(\"onInteractionEvent\", this.interaction);\n\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t});\n\n\t\t// Interaction ended event fired when the interaction card has ended\n\t\tthis.widgetAPI.onDataEvent('onInteractionEndedEvent', (data: any) => {\n\t\t\tthis.interactionEnded = data;\n\t\t\tthis.dumpJsonData(\"onInteractionEndedEvent\", this.interactionEnded);\n\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t});\n\n\t\t// Interaction context data\n\t\tthis.widgetAPI.onDataEvent('onContextDataEvent', (data: any) => {\n\t\t\tthis.context = data;\n\t\t\tthis.dumpJsonData(\"onContextDataEvent\", this.context);\n\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t});\n\n\t\t// Media data from chat, sms, email, social\n\t\tthis.widgetAPI.onDataEvent('onMediaEvent', (data: any) => {\n\t\t\tthis.media = data;\n\t\t\tthis.dumpJsonData(\"onMediaEvent\", this.media);\n\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t});\n\n\t\t// Media message data from chat, sms, email, social\n\t\tthis.widgetAPI.onDataEvent('onMediaMessageEvent', (data: any) => {\n\t\t\tthis.mediaMessage = data;\n\t\t\tthis.dumpJsonData(\"onMediaMessageEvent\", this.mediaMessage);\n\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t});\n\n\t\t// Triggered on agent state changes\n\t\tthis.widgetAPI.onDataEvent('onAgentStateEvent', (data: any) => {\n\t\t\tthis.agent = data;\n\t\t\tthis.dumpJsonData(\"onAgentStateEvent\", this.agent);\n\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t});\n\n\t\t// Triggered when the widget receives a message from another widget\n\t\tthis.widgetAPI.onDataEvent('onMessageEvent', (data: any) => {\n\t\t\tthis.widgetMessage = data;\n\t\t\tthis.dumpJsonData(\"onMessageEvent\", this.widgetMessage);\n\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t});\n\n\t\t// Triggered on navigation change\n\t\tthis.widgetAPI.onDataEvent('onNavigationEvent', (data: any) => {\n\t\t\tthis.navigation = data;\n\t\t\tthis.dumpJsonData(\"onNavigationEvent\", this.navigation);\n\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t});\n\n\t\t// Triggered when capabilities have updated\n\t\tthis.widgetAPI.onDataEvent('onCapabilitiesEvent', (data: any) => {\n\t\t\tthis.capabilities = data;\n\t\t\tthis.dumpJsonData(\"onCapabilitiesEvent\", this.capabilities);\n\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t});\n\n\t\t// Event fired when a custom card is deleted\n\t\tthis.widgetAPI.onDataEvent('onCustomCardDeletedEvent', (data: any) => {\n\t\t\tthis.customCardDeleted = data;\n\t\t\tthis.dumpJsonData(\"onCustomCardDeletedEvent\", this.customCardDeleted);\n\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t});\n\n\t\t// Triggered when card is focused\n\t\tthis.widgetAPI.onDataEvent('onCardFocusedEvent', (data: any) => {\n\t\t\tthis.interaction = data;\n\t\t\tthis.dumpJsonData(\"onCardFocusedEvent\", this.interaction);\n\t\t\tthis.changeDetectorRef.detectChanges();\n\t\t});\n\t}\n\n\t// Send a message to another widget under the same interaction context\n\tsendNotification() {\n\t\tthis.widgetAPI.sendMessage('Sample Widget Message: ' + this.message);\n\t\tthis.widgetAPI.sendNotification('Sample Widget Message: ' + this.message, 'info');\n\t\tthis.dumpJsonData(\"interactionEnded\", this.interactionEnded);\n\t}\n\n\t// Send a message to any other widget not constrained by interaction context\n\tsendNotificationToAnyWidget() {\n\t\t//this.widgetAPI.sendMessageToAnyWidget('Sample Any Widget Message: ' + this.anyWidgetMessage);\n\t\t//this.widgetAPI.sendNotification('Sample Any Widget Message: ' + this.anyWidgetMessage, 'warning');\n\t}\n\n\tngOnDestroy(): void {\n\t\t;\n\t}\n\n}","<div id=\"widget1\" class=\"disp\" style=\"position: relative; width: 100%; height: 100%;\">\n\t<div id=\"widget-default\" class=\"neo-widget__content disp\">\n\t\t<div class=\"neo-widget__header\">\n\t\t\t<div class=\"neo-widget__header-left\">\n\t\t\t</div>\n\t\t</div>\n\t\t<div class=\"neo-widget__body neo-widget__body\" style=\"width: 100%; height: 100%;\">\n\n\t\t\t<div id=\"sign-in\" style=\"width: 100%; height: 820px; padding: 10px;\">\n\t\t\t\t<button id=\"getCardNumber\" type=\"button\"\n\t\t\t\t\tclass=\"neo-btn neo-btn-secondary neo-btn-secondary--default neo-center neo-icon-check\"\n\t\t\t\t\t(click)=\"onclick_getCardNumber($event)\">カード番号取得</button>\n\t\t\t\t<button id=\"imageAnalysis\" type=\"button\"\n\t\t\t\t\tclass=\"neo-btn neo-btn-secondary neo-btn-secondary--default neo-center neo-icon-check\"\n\t\t\t\t\t(click)=\"onclick_imageAnalysis($event)\">画像読み取り</button>\n\t\t\t\t<div id=\"creditCardDetails\" #creditCardDetails></div>\n\t\t\t</div>\n\n\t\t\t<form class=\"neo-form\" style=\"padding: 10px;\" onsubmit=\"$('#message').val('');return false;\">\n\t\t\t\t<div class=\"neo-form-control\">\n\t\t\t\t\t<div class=\"neo-input-group\">\n\t\t\t\t\t\t<div class=\"row\">\n\t\t\t\t\t\t\t<button class=\"neo-btn neo-btn-tertiary neo-btn-tertiary--default\"\n\t\t\t\t\t\t\t\t(click)=\"onclick_metadata($event)\">getMetadata()</button>\n\t\t\t\t\t\t\t<button class=\"neo-btn neo-btn-tertiary neo-btn-tertiary--default\"\n\t\t\t\t\t\t\t\t(click)=\"onclick_capabilities($event)\">getCapabilities()</button>\n\t\t\t\t\t\t\t<button class=\"neo-btn neo-btn-tertiary neo-btn-tertiary--default\"\n\t\t\t\t\t\t\t\t(click)=\"onclick_configuration($event)\">getConfiguration()</button>\n\t\t\t\t\t\t\t<button class=\"neo-btn neo-btn-tertiary neo-btn-tertiary--default\"\n\t\t\t\t\t\t\t\t(click)=\"onclick_dispositionCodes($event)\">getDispositionCodes()</button>\n\t\t\t\t\t\t\t<button class=\"neo-btn neo-btn-tertiary neo-btn-tertiary--default\"\n\t\t\t\t\t\t\t\t(click)=\"onclick_voiceDispositionCodes($event)\">getDispositionCodes(VOICE)</button>\n\t\t\t\t\t\t\t<button class=\"neo-btn neo-btn-tertiary neo-btn-tertiary--default\"\n\t\t\t\t\t\t\t\t(click)=\"onclick_workCodes($event)\">getWorkCodes()</button>\n\t\t\t\t\t\t\t<button class=\"neo-btn neo-btn-tertiary neo-btn-tertiary--default\"\n\t\t\t\t\t\t\t\t(click)=\"onclick_emailWorkCodes($event)\">getWorkCodes(EMAIL)</button>\n\t\t\t\t\t\t\t<button class=\"neo-btn neo-btn-tertiary neo-btn-tertiary--default\"\n\t\t\t\t\t\t\t\t(click)=\"onclick_additionalWorkCodes($event)\">getAdditionalWorkCodes()</button>\n\t\t\t\t\t\t\t<button class=\"neo-btn neo-btn-tertiary neo-btn-tertiary--default\"\n\t\t\t\t\t\t\t\t(click)=\"onclick_notReadyReasonCodes($event)\">getNotReadyReasonCodes()</button>\n\t\t\t\t\t\t\t<button class=\"neo-btn neo-btn-tertiary neo-btn-tertiary--default\"\n\t\t\t\t\t\t\t\t(click)=\"onclick_systemReasonCodes($event)\">getSystemReasonCodes()</button>\n\t\t\t\t\t\t\t<button class=\"neo-btn neo-btn-tertiary neo-btn-tertiary--default\"\n\t\t\t\t\t\t\t\t(click)=\"onclick_interactionData($event)\">getInteractionData()</button>\n\t\t\t\t\t\t\t<button class=\"neo-btn neo-btn-tertiary neo-btn-tertiary--default\"\n\t\t\t\t\t\t\t\t(click)=\"onclick_clientDetails($event)\">getClientDetails()</button>\n\t\t\t\t\t\t\t<button class=\"neo-btn neo-btn-tertiary neo-btn-tertiary--default\"\n\t\t\t\t\t\t\t\t(click)=\"onclick_sendChatMessage($event, message.value)\">sendChatMessage(message)</button>\n\t\t\t\t\t\t\t<button class=\"neo-btn neo-btn-tertiary neo-btn-tertiary--default\"\n\t\t\t\t\t\t\t\t(click)=\"onclick_sendMessage($event, message.value)\">sendMessage(message)</button>\n\t\t\t\t\t\t\t<button class=\"neo-btn neo-btn-tertiary neo-btn-tertiary--default\"\n\t\t\t\t\t\t\t\t(click)=\"onclick_sendMessageToAnyWidget($event, message.value)\">sendMessageToAnyWidget(message)</button>\n\t\t\t\t\t\t\t<button id=\"test\" class=\"neo-btn neo-btn-tertiary neo-btn-tertiary--default\">test</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"neo-form-control\">\n\t\t\t\t\t<div class=\"neo-input-group\">\n\t\t\t\t\t\t<div class=\"row\">\n\t\t\t\t\t\t\t<div class=\"neo-form-control neo-form-control--textarea\" style=\"margin-left: 20px;\">\n\t\t\t\t\t\t\t\t<textarea id=\"message\" class=\"neo-input\" placeholder=\"message\" #message\n\t\t\t\t\t\t\t\t\tstyle=\"width: 800px;\"></textarea>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<label class=\"neo-switch\" for=\"isjsonformat\" style=\"margin: 20px;\">\n\t\t\t\t\t\t\t\t<input id=\"isjsonformat\" type=\"checkbox\" role=\"switch\" #isjsonformat> <i\n\t\t\t\t\t\t\t\t\tclass=\"neo-switch__icon\"></i>JSON\n\t\t\t\t\t\t\t\tFormat\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</form>\n\t\t\t<div\n\t\t\t\tstyle=\"width: 100%; height: 600px; padding: 10px; overflow: hidden; overflow-y: auto; word-break: break-all; background-color: #eee;\">\n\t\t\t\t<div id=\"log\" #log></div>\n\t\t\t</div>\n\n\t\t</div>\n\t</div>\n</div>"],"mappings":";;;AAUA,OAAM,MAAOA,kBAAkB;EAiC9BC,YAAoBC,iBAAoC,EAAUC,OAAmB,EAAUC,QAAmB;IAA9F,KAAAF,iBAAiB,GAAjBA,iBAAiB;IAA6B,KAAAC,OAAO,GAAPA,OAAO;IAAsB,KAAAC,QAAQ,GAARA,QAAQ;IA7BhG,KAAAC,OAAO,GAAW,EAAE;IAgBpB,KAAAC,gBAAgB,GAAU,EAAE;IAC5B,KAAAC,qBAAqB,GAAU,EAAE;IACjC,KAAAC,SAAS,GAAU,EAAE;IACrB,KAAAC,cAAc,GAAU,EAAE;IAC1B,KAAAC,mBAAmB,GAAU,EAAE;IAC/B,KAAAC,mBAAmB,GAAU,EAAE;IAC/B,KAAAC,iBAAiB,GAAU,EAAE;IAQnC,IAAI,CAACC,aAAa,GAAG,IAAI,CAACV,OAAO,CAACW,aAAa,CAACC,YAAY,CAAC,eAAe,CAAC;IAC7E,IAAI,CAACC,SAAS,GAASC,MAAO,CAACC,EAAE,CAACF,SAAS,CAAC,IAAI,CAACH,aAAa,CAAC;EAChE;EAEAM,eAAeA,CAAA;IACd;EACD;EAEAC,qBAAqBA,CAACC,CAAM;IAC3B,IAAI,CAACL,SAAS,CAACM,eAAe,CAAC,0BAA0B,CAAC;IAC1D,MAAMC,CAAC,GAAyB,IAAI,CAACnB,QAAQ,CAACoB,aAAa,CAAC,GAAG,CAAC;IAChED,CAAC,CAACE,SAAS,GAAG,6JAA6J;IAC3K,IAAI,CAACrB,QAAQ,CAACsB,YAAY,CAAC,IAAI,CAACC,iBAAiB,CAACb,aAAa,EAAES,CAAC,EAAE,IAAI,CAACI,iBAAiB,CAACb,aAAa,CAACc,QAAQ,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC;EAC5H;EAEAC,qBAAqBA,CAACR,CAAM;IAC3B,IAAI,CAACL,SAAS,CAACM,eAAe,CAAC,4BAA4B,CAAC;EAC7D;EAEAQ,YAAYA,CAACC,SAAiB,EAAEC,IAAS;IACxC,MAAMC,KAAK,GAAQC,MAAM,CAACC,MAAM,CAAC,EAAE,EAAEH,IAAI,CAAC;IAC1CI,OAAO,CAACC,GAAG,CAACC,IAAI,CAACC,SAAS,CAACN,KAAK,CAAC,CAAC;IAClC,MAAMO,CAAC,GAAWF,IAAI,CAACC,SAAS,CAACN,KAAK,CAAC,CAACQ,OAAO,CAAC,IAAI,EAAE,EAAE,CAAC,CAACA,OAAO,CAAC,IAAI,EAAE,EAAE,CAAC;IAC3E,MAAMlB,CAAC,GAAyB,IAAI,CAACnB,QAAQ,CAACoB,aAAa,CAAC,GAAG,CAAC;IAChED,CAAC,CAACE,SAAS,GAAG,MAAMM,SAAS,YAAYS,CAAC,YAAY;IACtD;IACA,IAAI,CAACpC,QAAQ,CAACsB,YAAY,CAAC,IAAI,CAACgB,SAAS,CAAC5B,aAAa,EAAES,CAAC,EAAE,IAAI,CAACmB,SAAS,CAAC5B,aAAa,CAACc,QAAQ,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC;EAC5G;EAEAe,gBAAgBA,CAACtB,CAAM;IACtB,IAAI,CAACS,YAAY,CAAC,UAAU,EAAE,IAAI,CAACc,QAAQ,CAAC;IAC5C,IAAI,CAACA,QAAQ,GAAG,IAAI,CAAC5B,SAAS,CAAC6B,WAAW,CAAC,WAAW,CAAC;EACxD;EAEAC,oBAAoBA,CAACzB,CAAM;IAC1B,IAAI,CAACS,YAAY,CAAC,cAAc,EAAE,IAAI,CAACiB,YAAY,CAAC;IACpD,IAAI,CAACA,YAAY,GAAG,IAAI,CAAC/B,SAAS,CAACgC,eAAe,EAAE;EACrD;EAEAC,qBAAqBA,CAAC5B,CAAM;IAC3B,IAAI,CAACS,YAAY,CAAC,eAAe,EAAE,IAAI,CAACoB,aAAa,CAAC;IACtD,IAAI,CAACA,aAAa,GAAG,IAAI,CAAClC,SAAS,CAACmC,gBAAgB,EAAE;EACvD;EAEAC,wBAAwBA,CAAC/B,CAAM;IAC9B,IAAI,CAACS,YAAY,CAAC,kBAAkB,EAAE,IAAI,CAACxB,gBAAgB,CAAC;IAC5D,IAAI,CAACA,gBAAgB,GAAG,IAAI,CAACU,SAAS,CAACqC,mBAAmB,EAAE;EAC7D;EAEAC,6BAA6BA,CAACjC,CAAM;IACnC,IAAI,CAACS,YAAY,CAAC,uBAAuB,EAAE,IAAI,CAACvB,qBAAqB,CAAC;IACtE,IAAI,CAACA,qBAAqB,GAAG,IAAI,CAACS,SAAS,CAACqC,mBAAmB,CAAC,OAAO,CAAC;EACzE;EAEAE,iBAAiBA,CAAClC,CAAM;IACvB,IAAI,CAACS,YAAY,CAAC,WAAW,EAAE,IAAI,CAACtB,SAAS,CAAC;IAC9C,IAAI,CAACA,SAAS,GAAG,IAAI,CAACQ,SAAS,CAACwC,YAAY,EAAE;EAC/C;EAEAC,sBAAsBA,CAACpC,CAAM;IAC5B,IAAI,CAACS,YAAY,CAAC,gBAAgB,EAAE,IAAI,CAACrB,cAAc,CAAC;IACxD,IAAI,CAACA,cAAc,GAAG,IAAI,CAACO,SAAS,CAACwC,YAAY,CAAC,OAAO,CAAC;EAC3D;EAEAE,2BAA2BA,CAACrC,CAAM;IACjC,IAAI,CAACS,YAAY,CAAC,qBAAqB,EAAE,IAAI,CAACpB,mBAAmB,CAAC;IAClE,IAAI,CAACA,mBAAmB,GAAG,IAAI,CAACM,SAAS,CAAC2C,sBAAsB,EAAE;EACnE;EAEAC,2BAA2BA,CAACvC,CAAM;IACjC,IAAI,CAACS,YAAY,CAAC,qBAAqB,EAAE,IAAI,CAACnB,mBAAmB,CAAC;IAClE,IAAI,CAACA,mBAAmB,GAAG,IAAI,CAACK,SAAS,CAAC6C,sBAAsB,EAAE;EACnE;EAEAC,yBAAyBA,CAACzC,CAAM;IAC/B,IAAI,CAACS,YAAY,CAAC,mBAAmB,EAAE,IAAI,CAAClB,iBAAiB,CAAC;IAC9D,IAAI,CAACA,iBAAiB,GAAG,IAAI,CAACI,SAAS,CAAC+C,oBAAoB,EAAE;EAC/D;EAEAC,uBAAuBA,CAAC3C,CAAM;IAC7B,IAAI,CAACS,YAAY,CAAC,iBAAiB,EAAE,IAAI,CAACmC,eAAe,CAAC;IAC1D,IAAI,CAACA,eAAe,GAAG,IAAI,CAACjD,SAAS,CAACkD,kBAAkB,EAAE;EAC3D;EAEAC,qBAAqBA,CAAC9C,CAAM;IAC3B,IAAI,CAACS,YAAY,CAAC,eAAe,EAAE,IAAI,CAACsC,aAAa,CAAC;IACtD,IAAI,CAACA,aAAa,GAAG,IAAI,CAACpD,SAAS,CAACqD,gBAAgB,EAAE;EACvD;EAEAC,uBAAuBA,CAACjD,CAAM,EAAEkD,IAAY;IAC3C,IAAI,CAACzC,YAAY,CAAC,iBAAiB,EAAE;MAAEyC,IAAI,EAAEA;IAAI,CAAE,CAAC;IACpD,IAAI,CAACvD,SAAS,CAACM,eAAe,CAACiD,IAAI,CAAC;EACrC;EAEAC,mBAAmBA,CAACnD,CAAM,EAAEkD,IAAY;IACvC,IAAI,CAACzC,YAAY,CAAC,aAAa,EAAE;MAAEyC,IAAI,EAAEA;IAAI,CAAE,CAAC;IAChD,IAAI,CAACvD,SAAS,CAACyD,WAAW,CAACF,IAAI,CAAC;EACjC;EAEAG,8BAA8BA,CAACrD,CAAM,EAAEkD,IAAY;IAClD,IAAI,CAACzC,YAAY,CAAC,wBAAwB,EAAE;MAAEyC,IAAI,EAAEA;IAAI,CAAE,CAAC;IAC3D,IAAI,CAACvD,SAAS,CAAC2D,sBAAsB,CAACJ,IAAI,CAAC;EAC5C;EAEAK,QAAQA,CAAA;IAEP;IACA,IAAI,CAAC5D,SAAS,CAAC6D,WAAW,CAAC,oBAAoB,EAAG7C,IAAS,IAAI;MAC9D,IAAI,CAAC8C,WAAW,GAAG9C,IAAI;MACvB,IAAI,CAACF,YAAY,CAAC,oBAAoB,EAAE,IAAI,CAACgD,WAAW,CAAC;MACzD,IAAI,CAAC5E,iBAAiB,CAAC6E,aAAa,EAAE;IACvC,CAAC,CAAC;IAEF;IACA,IAAI,CAAC/D,SAAS,CAAC6D,WAAW,CAAC,yBAAyB,EAAG7C,IAAS,IAAI;MACnE,IAAI,CAACgD,gBAAgB,GAAGhD,IAAI;MAC5B,IAAI,CAACF,YAAY,CAAC,yBAAyB,EAAE,IAAI,CAACkD,gBAAgB,CAAC;MACnE,IAAI,CAAC9E,iBAAiB,CAAC6E,aAAa,EAAE;IACvC,CAAC,CAAC;IAEF;IACA,IAAI,CAAC/D,SAAS,CAAC6D,WAAW,CAAC,oBAAoB,EAAG7C,IAAS,IAAI;MAC9D,IAAI,CAACiD,OAAO,GAAGjD,IAAI;MACnB,IAAI,CAACF,YAAY,CAAC,oBAAoB,EAAE,IAAI,CAACmD,OAAO,CAAC;MACrD,IAAI,CAAC/E,iBAAiB,CAAC6E,aAAa,EAAE;IACvC,CAAC,CAAC;IAEF;IACA,IAAI,CAAC/D,SAAS,CAAC6D,WAAW,CAAC,cAAc,EAAG7C,IAAS,IAAI;MACxD,IAAI,CAACkD,KAAK,GAAGlD,IAAI;MACjB,IAAI,CAACF,YAAY,CAAC,cAAc,EAAE,IAAI,CAACoD,KAAK,CAAC;MAC7C,IAAI,CAAChF,iBAAiB,CAAC6E,aAAa,EAAE;IACvC,CAAC,CAAC;IAEF;IACA,IAAI,CAAC/D,SAAS,CAAC6D,WAAW,CAAC,qBAAqB,EAAG7C,IAAS,IAAI;MAC/D,IAAI,CAACmD,YAAY,GAAGnD,IAAI;MACxB,IAAI,CAACF,YAAY,CAAC,qBAAqB,EAAE,IAAI,CAACqD,YAAY,CAAC;MAC3D,IAAI,CAACjF,iBAAiB,CAAC6E,aAAa,EAAE;IACvC,CAAC,CAAC;IAEF;IACA,IAAI,CAAC/D,SAAS,CAAC6D,WAAW,CAAC,mBAAmB,EAAG7C,IAAS,IAAI;MAC7D,IAAI,CAACoD,KAAK,GAAGpD,IAAI;MACjB,IAAI,CAACF,YAAY,CAAC,mBAAmB,EAAE,IAAI,CAACsD,KAAK,CAAC;MAClD,IAAI,CAAClF,iBAAiB,CAAC6E,aAAa,EAAE;IACvC,CAAC,CAAC;IAEF;IACA,IAAI,CAAC/D,SAAS,CAAC6D,WAAW,CAAC,gBAAgB,EAAG7C,IAAS,IAAI;MAC1D,IAAI,CAACqD,aAAa,GAAGrD,IAAI;MACzB,IAAI,CAACF,YAAY,CAAC,gBAAgB,EAAE,IAAI,CAACuD,aAAa,CAAC;MACvD,IAAI,CAACnF,iBAAiB,CAAC6E,aAAa,EAAE;IACvC,CAAC,CAAC;IAEF;IACA,IAAI,CAAC/D,SAAS,CAAC6D,WAAW,CAAC,mBAAmB,EAAG7C,IAAS,IAAI;MAC7D,IAAI,CAACsD,UAAU,GAAGtD,IAAI;MACtB,IAAI,CAACF,YAAY,CAAC,mBAAmB,EAAE,IAAI,CAACwD,UAAU,CAAC;MACvD,IAAI,CAACpF,iBAAiB,CAAC6E,aAAa,EAAE;IACvC,CAAC,CAAC;IAEF;IACA,IAAI,CAAC/D,SAAS,CAAC6D,WAAW,CAAC,qBAAqB,EAAG7C,IAAS,IAAI;MAC/D,IAAI,CAACe,YAAY,GAAGf,IAAI;MACxB,IAAI,CAACF,YAAY,CAAC,qBAAqB,EAAE,IAAI,CAACiB,YAAY,CAAC;MAC3D,IAAI,CAAC7C,iBAAiB,CAAC6E,aAAa,EAAE;IACvC,CAAC,CAAC;IAEF;IACA,IAAI,CAAC/D,SAAS,CAAC6D,WAAW,CAAC,0BAA0B,EAAG7C,IAAS,IAAI;MACpE,IAAI,CAACuD,iBAAiB,GAAGvD,IAAI;MAC7B,IAAI,CAACF,YAAY,CAAC,0BAA0B,EAAE,IAAI,CAACyD,iBAAiB,CAAC;MACrE,IAAI,CAACrF,iBAAiB,CAAC6E,aAAa,EAAE;IACvC,CAAC,CAAC;IAEF;IACA,IAAI,CAAC/D,SAAS,CAAC6D,WAAW,CAAC,oBAAoB,EAAG7C,IAAS,IAAI;MAC9D,IAAI,CAAC8C,WAAW,GAAG9C,IAAI;MACvB,IAAI,CAACF,YAAY,CAAC,oBAAoB,EAAE,IAAI,CAACgD,WAAW,CAAC;MACzD,IAAI,CAAC5E,iBAAiB,CAAC6E,aAAa,EAAE;IACvC,CAAC,CAAC;EACH;EAEA;EACAS,gBAAgBA,CAAA;IACf,IAAI,CAACxE,SAAS,CAACyD,WAAW,CAAC,yBAAyB,GAAG,IAAI,CAACpE,OAAO,CAAC;IACpE,IAAI,CAACW,SAAS,CAACwE,gBAAgB,CAAC,yBAAyB,GAAG,IAAI,CAACnF,OAAO,EAAE,MAAM,CAAC;IACjF,IAAI,CAACyB,YAAY,CAAC,kBAAkB,EAAE,IAAI,CAACkD,gBAAgB,CAAC;EAC7D;EAEA;EACAS,2BAA2BA,CAAA;IAC1B;IACA;EAAA;EAGDC,WAAWA,CAAA;IACV;EACD;;AAzOY1F,kBAAkB,C;mBAAlBA,kBAAkB,EAAA2F,EAAA,CAAAC,iBAAA,CAAAD,EAAA,CAAAE,iBAAA,GAAAF,EAAA,CAAAC,iBAAA,CAAAD,EAAA,CAAAG,UAAA,GAAAH,EAAA,CAAAC,iBAAA,CAAAD,EAAA,CAAAI,SAAA;AAAA;AAAlB/F,kBAAkB,C;QAAlBA,kBAAkB;EAAAgG,SAAA;EAAAC,SAAA,WAAAC,yBAAAC,EAAA,EAAAC,GAAA;IAAA,IAAAD,EAAA;;;;;;;;;;;;;;;;MCV/BR,EAAA,CAAAU,cAAA,aAAsF;MAGnFV,EAAA,CAAAW,SAAA,aACM;MACPX,EAAA,CAAAY,YAAA,EAAM;MACNZ,EAAA,CAAAU,cAAA,aAAkF;MAK/EV,EAAA,CAAAa,UAAA,mBAAAC,oDAAAC,MAAA;QAAA,OAASN,GAAA,CAAAhF,qBAAA,CAAAsF,MAAA,CAA6B;MAAA,EAAC;MAACf,EAAA,CAAAgB,MAAA,iDAAO;MAAAhB,EAAA,CAAAY,YAAA,EAAS;MACzDZ,EAAA,CAAAU,cAAA,gBAEyC;MAAxCV,EAAA,CAAAa,UAAA,mBAAAI,oDAAAF,MAAA;QAAA,OAASN,GAAA,CAAAvE,qBAAA,CAAA6E,MAAA,CAA6B;MAAA,EAAC;MAACf,EAAA,CAAAgB,MAAA,2CAAM;MAAAhB,EAAA,CAAAY,YAAA,EAAS;MACxDZ,EAAA,CAAAW,SAAA,iBAAqD;MACtDX,EAAA,CAAAY,YAAA,EAAM;MAENZ,EAAA,CAAAU,cAAA,gBAA6F;MAKxFV,EAAA,CAAAa,UAAA,mBAAAK,qDAAAH,MAAA;QAAA,OAASN,GAAA,CAAAzD,gBAAA,CAAA+D,MAAA,CAAwB;MAAA,EAAC;MAACf,EAAA,CAAAgB,MAAA,qBAAa;MAAAhB,EAAA,CAAAY,YAAA,EAAS;MAC1DZ,EAAA,CAAAU,cAAA,kBACwC;MAAvCV,EAAA,CAAAa,UAAA,mBAAAM,qDAAAJ,MAAA;QAAA,OAASN,GAAA,CAAAtD,oBAAA,CAAA4D,MAAA,CAA4B;MAAA,EAAC;MAACf,EAAA,CAAAgB,MAAA,yBAAiB;MAAAhB,EAAA,CAAAY,YAAA,EAAS;MAClEZ,EAAA,CAAAU,cAAA,kBACyC;MAAxCV,EAAA,CAAAa,UAAA,mBAAAO,qDAAAL,MAAA;QAAA,OAASN,GAAA,CAAAnD,qBAAA,CAAAyD,MAAA,CAA6B;MAAA,EAAC;MAACf,EAAA,CAAAgB,MAAA,0BAAkB;MAAAhB,EAAA,CAAAY,YAAA,EAAS;MACpEZ,EAAA,CAAAU,cAAA,kBAC4C;MAA3CV,EAAA,CAAAa,UAAA,mBAAAQ,qDAAAN,MAAA;QAAA,OAASN,GAAA,CAAAhD,wBAAA,CAAAsD,MAAA,CAAgC;MAAA,EAAC;MAACf,EAAA,CAAAgB,MAAA,6BAAqB;MAAAhB,EAAA,CAAAY,YAAA,EAAS;MAC1EZ,EAAA,CAAAU,cAAA,kBACiD;MAAhDV,EAAA,CAAAa,UAAA,mBAAAS,qDAAAP,MAAA;QAAA,OAASN,GAAA,CAAA9C,6BAAA,CAAAoD,MAAA,CAAqC;MAAA,EAAC;MAACf,EAAA,CAAAgB,MAAA,kCAA0B;MAAAhB,EAAA,CAAAY,YAAA,EAAS;MACpFZ,EAAA,CAAAU,cAAA,kBACqC;MAApCV,EAAA,CAAAa,UAAA,mBAAAU,qDAAAR,MAAA;QAAA,OAASN,GAAA,CAAA7C,iBAAA,CAAAmD,MAAA,CAAyB;MAAA,EAAC;MAACf,EAAA,CAAAgB,MAAA,sBAAc;MAAAhB,EAAA,CAAAY,YAAA,EAAS;MAC5DZ,EAAA,CAAAU,cAAA,kBAC0C;MAAzCV,EAAA,CAAAa,UAAA,mBAAAW,qDAAAT,MAAA;QAAA,OAASN,GAAA,CAAA3C,sBAAA,CAAAiD,MAAA,CAA8B;MAAA,EAAC;MAACf,EAAA,CAAAgB,MAAA,2BAAmB;MAAAhB,EAAA,CAAAY,YAAA,EAAS;MACtEZ,EAAA,CAAAU,cAAA,kBAC+C;MAA9CV,EAAA,CAAAa,UAAA,mBAAAY,qDAAAV,MAAA;QAAA,OAASN,GAAA,CAAA1C,2BAAA,CAAAgD,MAAA,CAAmC;MAAA,EAAC;MAACf,EAAA,CAAAgB,MAAA,gCAAwB;MAAAhB,EAAA,CAAAY,YAAA,EAAS;MAChFZ,EAAA,CAAAU,cAAA,kBAC+C;MAA9CV,EAAA,CAAAa,UAAA,mBAAAa,qDAAAX,MAAA;QAAA,OAASN,GAAA,CAAAxC,2BAAA,CAAA8C,MAAA,CAAmC;MAAA,EAAC;MAACf,EAAA,CAAAgB,MAAA,gCAAwB;MAAAhB,EAAA,CAAAY,YAAA,EAAS;MAChFZ,EAAA,CAAAU,cAAA,kBAC6C;MAA5CV,EAAA,CAAAa,UAAA,mBAAAc,qDAAAZ,MAAA;QAAA,OAASN,GAAA,CAAAtC,yBAAA,CAAA4C,MAAA,CAAiC;MAAA,EAAC;MAACf,EAAA,CAAAgB,MAAA,8BAAsB;MAAAhB,EAAA,CAAAY,YAAA,EAAS;MAC5EZ,EAAA,CAAAU,cAAA,kBAC2C;MAA1CV,EAAA,CAAAa,UAAA,mBAAAe,qDAAAb,MAAA;QAAA,OAASN,GAAA,CAAApC,uBAAA,CAAA0C,MAAA,CAA+B;MAAA,EAAC;MAACf,EAAA,CAAAgB,MAAA,4BAAoB;MAAAhB,EAAA,CAAAY,YAAA,EAAS;MACxEZ,EAAA,CAAAU,cAAA,kBACyC;MAAxCV,EAAA,CAAAa,UAAA,mBAAAgB,qDAAAd,MAAA;QAAA,OAASN,GAAA,CAAAjC,qBAAA,CAAAuC,MAAA,CAA6B;MAAA,EAAC;MAACf,EAAA,CAAAgB,MAAA,0BAAkB;MAAAhB,EAAA,CAAAY,YAAA,EAAS;MACpEZ,EAAA,CAAAU,cAAA,kBAC0D;MAAzDV,EAAA,CAAAa,UAAA,mBAAAiB,qDAAAf,MAAA;QAAAf,EAAA,CAAA+B,aAAA,CAAAC,GAAA;QAAA,MAAAC,GAAA,GAAAjC,EAAA,CAAAkC,WAAA;QAAA,OAASlC,EAAA,CAAAmC,WAAA,CAAA1B,GAAA,CAAA9B,uBAAA,CAAAoC,MAAA,EAAAkB,GAAA,CAAAG,KAAA,CAA8C;MAAA,EAAC;MAACpC,EAAA,CAAAgB,MAAA,gCAAwB;MAAAhB,EAAA,CAAAY,YAAA,EAAS;MAC3FZ,EAAA,CAAAU,cAAA,kBACsD;MAArDV,EAAA,CAAAa,UAAA,mBAAAwB,qDAAAtB,MAAA;QAAAf,EAAA,CAAA+B,aAAA,CAAAC,GAAA;QAAA,MAAAC,GAAA,GAAAjC,EAAA,CAAAkC,WAAA;QAAA,OAASlC,EAAA,CAAAmC,WAAA,CAAA1B,GAAA,CAAA5B,mBAAA,CAAAkC,MAAA,EAAAkB,GAAA,CAAAG,KAAA,CAA0C;MAAA,EAAC;MAACpC,EAAA,CAAAgB,MAAA,4BAAoB;MAAAhB,EAAA,CAAAY,YAAA,EAAS;MACnFZ,EAAA,CAAAU,cAAA,kBACiE;MAAhEV,EAAA,CAAAa,UAAA,mBAAAyB,qDAAAvB,MAAA;QAAAf,EAAA,CAAA+B,aAAA,CAAAC,GAAA;QAAA,MAAAC,GAAA,GAAAjC,EAAA,CAAAkC,WAAA;QAAA,OAASlC,EAAA,CAAAmC,WAAA,CAAA1B,GAAA,CAAA1B,8BAAA,CAAAgC,MAAA,EAAAkB,GAAA,CAAAG,KAAA,CAAqD;MAAA,EAAC;MAACpC,EAAA,CAAAgB,MAAA,uCAA+B;MAAAhB,EAAA,CAAAY,YAAA,EAAS;MACzGZ,EAAA,CAAAU,cAAA,kBAA6E;MAAAV,EAAA,CAAAgB,MAAA,YAAI;MAAAhB,EAAA,CAAAY,YAAA,EAAS;MAI7FZ,EAAA,CAAAU,cAAA,eAA8B;MAI1BV,EAAA,CAAAW,SAAA,wBACkC;MACnCX,EAAA,CAAAY,YAAA,EAAM;MACNZ,EAAA,CAAAU,cAAA,iBAAmE;MAClEV,EAAA,CAAAW,SAAA,qBAAqE;MACvCX,EAAA,CAAAgB,MAAA,oBAE/B;MAAAhB,EAAA,CAAAY,YAAA,EAAQ;MAKZZ,EAAA,CAAAU,cAAA,eACuI;MACtIV,EAAA,CAAAW,SAAA,mBAAyB;MAC1BX,EAAA,CAAAY,YAAA,EAAM;;;;;;ADjEIvG,kBAAkB,C;SAAlBA,kBAAkB;EAAAkI,OAAA,EAAlBlI,kBAAkB,CAAAmI;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}